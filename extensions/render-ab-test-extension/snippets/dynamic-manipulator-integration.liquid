<!-- A/B Dynamic Manipulator -->
<div id="ab-dynamic-manipulator-{{ block.id }}" class="ab-dynamic-manipulator">
  <div class="manipulator-controls" style="position:fixed;top:20px;right:20px;background:white;border:1px solid #e1e5e9;border-radius:8px;padding:16px;box-shadow:0 4px 16px rgba(0,0,0,0.1);z-index:9999;width:280px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:14px">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #e1e5e9">
      <h3 style="margin:0;font-size:14px;font-weight:600;color:#202223">ðŸŽ¨ A/B Editor</h3>
      <button id="toggle-ab-{{ block.id }}" style="background:none;border:none;font-size:16px;cursor:pointer;padding:2px;color:#637381">âž–</button>
    </div>
    <div id="ab-controls-{{ block.id }}">
      <div style="margin-bottom:12px">
        <label style="display:block;margin-bottom:4px;font-weight:500;color:#202223;font-size:12px">Layout</label>
        <select id="ab-layout-{{ block.id }}" style="width:100%;padding:6px 8px;border:1px solid #d1d5db;border-radius:4px;font-size:12px">
          <option value="grid">Grid</option><option value="stack">Stack</option><option value="side">Side-by-Side</option><option value="center">Centered</option>
        </select>
      </div>
      <div style="margin-bottom:12px">
        <label style="display:block;margin-bottom:4px;font-weight:500;color:#202223;font-size:12px">Colors</label>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:4px">
          <input type="color" id="ab-primary-{{ block.id }}" value="#3b82f6" style="width:100%;height:32px;border:1px solid #d1d5db;border-radius:4px;cursor:pointer">
          <input type="color" id="ab-secondary-{{ block.id }}" value="#f3f4f6" style="width:100%;height:32px;border:1px solid #d1d5db;border-radius:4px;cursor:pointer">
        </div>
      </div>
      <div style="margin-bottom:12px">
        <label style="display:block;margin-bottom:4px;font-weight:500;color:#202223;font-size:12px">Font Size</label>
        <input type="range" id="ab-font-{{ block.id }}" min="12" max="24" value="16" style="width:100%">
      </div>
      <div style="margin-bottom:12px">
        <label style="display:block;margin-bottom:4px;font-weight:500;color:#202223;font-size:12px">Animation</label>
        <select id="ab-animation-{{ block.id }}" style="width:100%;padding:6px 8px;border:1px solid #d1d5db;border-radius:4px;font-size:12px">
          <option value="none">None</option><option value="fade">Fade</option><option value="slide">Slide</option><option value="bounce">Bounce</option>
        </select>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:6px">
        <button id="ab-reset-{{ block.id }}" style="padding:8px 12px;background:#f6f6f7;border:1px solid #d1d5db;border-radius:4px;font-size:12px;cursor:pointer;color:#202223">Reset</button>
        <button id="ab-apply-{{ block.id }}" style="padding:8px 12px;background:#3b82f6;border:1px solid #3b82f6;border-radius:4px;font-size:12px;cursor:pointer;color:white">Apply</button>
      </div>
    </div>
  </div>
  <style id="ab-styles-{{ block.id }}"></style>
</div>
{{ 'dynamic-manipulator.js' | asset_url | script_tag }}
